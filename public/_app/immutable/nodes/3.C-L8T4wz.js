import{t as _,a as u}from"../chunks/BLBjSD1j.js";import{y as $e,s as t,f as me,B as a,A as Qe,J as p,a7 as E,C as e,q as o,a8 as nt,z as A,l as pt}from"../chunks/CjMKQPc5.js";import{a as K,p as k}from"../chunks/CmI1mrV9.js";import{e as le,b as X,r as Y,i as re,s as vt,S as dt,a as Pe,c as We,H as ut,F as _t}from"../chunks/Qjijmllh.js";import{d as Xe,s as v,e as ht}from"../chunks/CHB7VOKY.js";import{i as N}from"../chunks/BHaxyKbt.js";import{o as mt}from"../chunks/BOx9Rgfy.js";const he=f=>{navigator.clipboard.writeText(f.target.textContent),console.log(`Se copi√≥ el texto: ${f.target.textContent}`)};var ft=(f,r)=>r("bdv"),gt=_('<h3>Titular:</h3> <h4 class="svelte-yh4q2y"> </h4> <h4 class="svelte-yh4q2y"> </h4> <h4 class="svelte-yh4q2y"> </h4> <p> </p>',1),bt=(f,r)=>r("zelle"),yt=_('<h4 class="svelte-yh4q2y"> </h4>  <p> </p>',1),kt=_('<h4 class="svelte-yh4q2y">La compra minima por zelle es de 7 Boletos</h4>'),xt=_('<h1 class="svelte-yh4q2y">Seleccione su m√©todo de pago</h1> <section class="metodo-pago svelte-yh4q2y"><article class="bdv-box svelte-yh4q2y"><figure><img id="bdv" src="/banesco.png" alt="bdv" class="svelte-yh4q2y"></figure> <!></article> <article class="zelle-box svelte-yh4q2y"><figure><img id="zelle" src="/zelle.png" alt="Zelle" class="svelte-yh4q2y"></figure> <!></article></section> <!> <article class="data-pago svelte-yh4q2y"></article>',1);function wt(f,r){$e(r,!0);let c=E(!1),h=E(!1),S=E(!1),B=K(r,"ticketValue",7),Z=K(r,"totalZelle",7);const M=[{nombre:"Banesco",telefono:"04127631825",cedula:"20681512",titular:"Alberto Gonzalez"},{nombre:"Zelle",telefono:"+13179660928",correo:"soraysidanielamedinagarcia@gmail.com",name:"Ronald Sukdhai"}],s=x=>{x==="bdv"&&(B(120),p(c,!0),p(h,!1)),x==="zelle"&&(B(1.5),Z(r.selectedTicket.length*B()),p(c,!1),p(h,!0),r.selectedTicket.length>14&&(p(S,!0),console.log("se detecta que haya 4 tickets o menos")))};var I=xt(),D=t(me(I),2),T=a(D),n=a(T),j=a(n);j.__click=[ft,s],e(n);var se=t(n,2);{var oe=x=>{var J=gt(),R=t(me(J),2);R.__click=[he];var ne=a(R,!0);e(R);var G=t(R,2);G.__click=[he];var $=a(G,!0);e(G);var U=t(G,2);U.__click=[he];var ue=a(U,!0);e(U);var te=t(U,2),ge=a(te);e(te),A(()=>{v(ne,M[0].titular),v($,M[0].telefono),v(ue,M[0].cedula),v(ge,`${B()*r.selectedTicket.length} BS`)}),u(x,J)};N(se,x=>{o(c)&&x(oe)})}e(T);var ce=t(T,2),ee=a(ce),ve=a(ee);ve.__click=[bt,s],e(ee);var de=t(ee,2);{var ie=x=>{var J=yt(),R=me(J);R.__click=[he];var ne=a(R,!0);e(R);var G=t(R,2),$=a(G);e(G),A(U=>{v(ne,M[1].correo),v($,`${U??""} $`)},[()=>Math.round(Z()*10)/10]),u(x,J)};N(de,x=>{o(h)&&x(ie)})}e(ce),e(D);var H=t(D,2);{var fe=x=>{var J=kt();u(x,J)};N(H,x=>{o(S)&&x(fe)})}nt(2),u(f,I),Qe()}Xe(["click"]);const St=async(f,r,c,h,S,B)=>{try{const s=(await(await fetch(`${r}/flash/ticketselected`)).json()).find(I=>I.ci===o(c));s?(p(h,k([...s.tickets])),p(S,k(s)),p(B,!0)):(console.log("Usuario no encontrado"),p(h,k([])),p(B,!1))}catch(Z){console.error("Error al obtener usuarios:",Z),p(h,k([])),p(S,null),p(B,!1)}},Ke=(f,r,c,h)=>{p(r,!1),c({}),h([]),window.location.reload()},Tt=(f,r,c,h)=>{p(r,k(c().filter(S=>S.value.includes(h()))))},qt=(f,r)=>{console.log("clic"),p(r,!0)},ze=(f,r,c)=>{r().name.length<4&&p(c,"El nombre debe tener al menos 4 caracteres."),r().name.length>4&&p(c,null),r().phone.length<11&&p(c,"El n√∫mero de telefono debe tener al menos 11 caracteres."),r().phone.length>11&&p(c,null)};var Ct=(f,r,c)=>r(o(c).id,o(c).value,o(c)),At=_("<p> </p>"),Nt=_('<article class="find-number-box svelte-3rl5pi"><section class="generate-numbers n√∫meros svelte-3rl5pi"></section></article>'),Bt=(f,r,c)=>r(o(c).id,o(c).value,o(c)),Mt=_("<p> </p>"),Vt=_('<article class="n√∫meros numbers-available-container svelte-3rl5pi"></article>'),Pt=_('<p class="selected-content svelte-3rl5pi"> </p>'),zt=_('<p class="selected-content svelte-3rl5pi">Agrega otro ticket</p>'),Et=(f,r,c)=>r(o(c).id,o(c)),Ft=_("<p> </p>"),Zt=_('<section class="flotante svelte-3rl5pi"><section class="data-selected svelte-3rl5pi"><!> <!></section> <section class="selectedTicket svelte-3rl5pi"></section></section>'),It=_('<h2 class="notificacion svelte-3rl5pi" style="text-align: center;">Se han agotado todos los tickets. Atento al sorteo</h2>'),Rt=_('<section class="n√∫meros-container svelte-3rl5pi"><!> <!> <!> <!></section>'),Lt=_('<p class="svelte-3rl5pi"> </p>'),Ot=_('<p style="display: inline;" class="svelte-3rl5pi"> </p>'),Dt=_('<section class="data-finded svelte-3rl5pi"><p class="svelte-3rl5pi"> </p> <p class="svelte-3rl5pi">Sus tickets comprados son:</p> <section class="tickets svelte-3rl5pi" style="display: flex; flex-wrap: wrap; flex-direction: row; "></section></section>'),jt=_('<p style="color: red;" class="svelte-3rl5pi"> </p>'),Gt=(f,r,c,h)=>{p(r,!1),c(),p(h,!0)},Ht=(f,r)=>p(r,!1),Jt=_('<dialog class="svelte-3rl5pi"><h2 class="svelte-3rl5pi">Tus datos ingresados son:</h2> <article class="svelte-3rl5pi"><p class="svelte-3rl5pi"> </p> <p class="svelte-3rl5pi"> </p> <p class="svelte-3rl5pi"> </p> <p class="svelte-3rl5pi"> </p></article> <h2 class="svelte-3rl5pi">Desea continuar?</h2> <article class="button-dialogs svelte-3rl5pi"><p class="svelte-3rl5pi">Si</p> <p class="svelte-3rl5pi">No</p></article></dialog>'),Ut=_('<p style=" height: max-content; padding: 0;" class="svelte-3rl5pi"> </p>'),Wt=_(`<dialog class="svelte-3rl5pi"><h1 style="padding: 10px;" class="svelte-3rl5pi">!Felicidades! Estas participando.</h1> <h2 class="svelte-3rl5pi">En 24hrs ser√° verificado tu pago y te llegar√° un whatsapp de confirmaci√≥n. Para aumentar tus
				posibilidades sigue comprando mas boletos</h2> <h1 class="svelte-3rl5pi">Datos de tu compra:</h1> <p class="svelte-3rl5pi"> </p> <p class="svelte-3rl5pi"> </p> <p class="svelte-3rl5pi"> </p> <p class="svelte-3rl5pi"> </p> <p class="svelte-3rl5pi"> </p> <section style="display: flex; flex-direction: row; gap: 10px; width: auto; flex-wrap: wrap; max-width: 300px;" class="svelte-3rl5pi"></section> <p style="padding: 10px; text-wrap: pretty;" class="svelte-3rl5pi">Para mayor seguridad envia tu comprobante de pago por whatsapp</p> <article class="dialog-contact svelte-3rl5pi"><a href="https://api.whatsapp.com/send?phone=584124676100&amp;text=Hola%20Alberto.%20Me%20comunico%20contigo%20para%20" target="_blank" class="svelte-3rl5pi"><svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 24 24" class="svelte-3rl5pi"><path fill="#fff" d="M19.05 4.91A9.82 9.82 0 0 0 12.04 2c-5.46 0-9.91 4.45-9.91 9.91c0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21c5.46 0 9.91-4.45 9.91-9.91c0-2.65-1.03-5.14-2.9-7.01m-7.01 15.24c-1.48 0-2.93-.4-4.2-1.15l-.3-.18l-3.12.82l.83-3.04l-.2-.31a8.26 8.26 0 0 1-1.26-4.38c0-4.54 3.7-8.24 8.24-8.24c2.2 0 4.27.86 5.82 2.42a8.18 8.18 0 0 1 2.41 5.83c.02 4.54-3.68 8.23-8.22 8.23m4.52-6.16c-.25-.12-1.47-.72-1.69-.81c-.23-.08-.39-.12-.56.12c-.17.25-.64.81-.78.97c-.14.17-.29.19-.54.06c-.25-.12-1.05-.39-1.99-1.23c-.74-.66-1.23-1.47-1.38-1.72c-.14-.25-.02-.38.11-.51c.11-.11.25-.29.37-.43s.17-.25.25-.41c.08-.17.04-.31-.02-.43s-.56-1.34-.76-1.84c-.2-.48-.41-.42-.56-.43h-.48c-.17 0-.43.06-.66.31c-.22.25-.86.85-.86 2.07s.89 2.4 1.01 2.56c.12.17 1.75 2.67 4.23 3.74c.59.26 1.05.41 1.41.52c.59.19 1.13.16 1.56.1c.48-.07 1.47-.6 1.67-1.18c.21-.58.21-1.07.14-1.18s-.22-.16-.47-.28" class="svelte-3rl5pi"></path></svg> +584124676100</a></article> <button class="svelte-3rl5pi">‚úî Listo</button></dialog>`),Kt=_(`<article class="banner svelte-3rl5pi"><figure class="svelte-3rl5pi"><img class="main-poster svelte-3rl5pi" src="/card-flash.webp" alt="main poster"></figure> <section class="svelte-3rl5pi"><progress class="range svelte-3rl5pi" max="100"></progress> <h1 class="svelte-3rl5pi"> </h1> <article class="banner-item svelte-3rl5pi"><h1 class="title svelte-3rl5pi">‚ö°Ô∏è FLASH ‚ö°Ô∏è</h1></article> <h1 class="svelte-3rl5pi"><strong class="svelte-3rl5pi">¬°2 felices ganadores! ¬°Chance A y B!</strong></h1> <h1 class="premio-mayor svelte-3rl5pi">1er premio: Chance A: BS.40.000</h1> <h1 class="premio-mayor svelte-3rl5pi">2do premio: Chance B: BS. 40.000</h1> <h2 class="text-bold svelte-3rl5pi"><strong class="svelte-3rl5pi">PAGO MOVIL</strong></h2> <p class="svelte-3rl5pi">¬øC√≥mo participo?</p> <p style=" text-wrap: pretty; width: 100%; " class="svelte-3rl5pi">Selecciona t√∫s n√∫meros (m√≠nimo 2 para que tengas aun m√°s chance de ganar familia) <br class="svelte-3rl5pi"> <br class="svelte-3rl5pi"> Luego selecciona tu metodo de pago (pago m√≥vil o zelle) al selecionar el metodo de pago, te
			aparecen los datos del mismo, sales y haces tu pago. <br class="svelte-3rl5pi"> <br class="svelte-3rl5pi"> Al volver, colocas muy bien tus datos personales, n√∫mero de tel√©fono y referencia del p√°go y
			listo! üöÄüôèüèº <br class="svelte-3rl5pi"> <br class="svelte-3rl5pi"> El sorteo se realizar√° por la Loteria Chance A y B (000 al 999) de las 7:00PM. ¬°Muchisima
			suerte a todos los participantes! Son unas personas increibles!‚ù§Ô∏èü§ù</p> <h4 class="svelte-3rl5pi">Whatsapp de soporte</h4> <p class="whatsapp svelte-3rl5pi"> </p></section></article> <br class="svelte-3rl5pi"> <br class="svelte-3rl5pi"> <section class="find-number svelte-3rl5pi"><input class="input-finder svelte-3rl5pi" type="text" name="" id="" placeholder="Buscar numero"></section> <!> <!> <section class="find-ticket-container svelte-3rl5pi"><input type="text" placeholder="BUSCAR TICKET " class="svelte-3rl5pi"> <button type="submit" class="svelte-3rl5pi">üîç Buscar ticket</button></section> <!> <!> <form class="payment-form svelte-3rl5pi"><!> <section class="svelte-3rl5pi"><label for="name" class="svelte-3rl5pi">Nombre y apellido <input type="text" name="name" id="name" placeholder="Ingresa tu nombre y apellido" minlength="4" required class="svelte-3rl5pi"></label> <label for="ci" class="svelte-3rl5pi">Cedula de identidad <input type="text" name="ci" id="ci" placeholder="Ingresa tu cedula de identidad" minlength="8" required class="svelte-3rl5pi"></label></section> <section class="svelte-3rl5pi"><label for="phone" class="svelte-3rl5pi">Telefono <input type="text" name="phone" id="phone" placeholder="N√∫mero de tel√©fono sin el +" minlength="10" required class="svelte-3rl5pi"></label></section> <section class="svelte-3rl5pi"><label for="reference" class="svelte-3rl5pi">Referencia <input type="text" name="reference" id="reference" placeholder="Referencia de su pago" required class="svelte-3rl5pi"></label></section> <section class="svelte-3rl5pi"><label for="amount" class="svelte-3rl5pi">Monto <input type="text" name="amount" id="amount" placeholder="Monto a pagar" required class="svelte-3rl5pi"></label></section> <button class="submit-button svelte-3rl5pi">Confirmar y enviar por whatsapp</button> <!> <!></form>`,1);function $t(f,r){$e(r,!0);let c="https://backend-rifas-tico.onrender.com",h=E(!1),S=E(!1),B=E(""),Z=E(!0),M=K(r,"rangoValue",15),s=K(r,"formData",7),I=K(r,"totalZelle",7),D=K(r,"findNumber",7),T=K(r,"numbersAvailable",7),n=K(r,"selectedTicket",7),j=E(""),se=k([]),oe=E(""),ce=E(!1),ee=E(k([])),ve=E(k([])),de=E(k([]));k([]);const ie=async()=>{try{const i=await(await fetch(`${c}/flash/items`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();p(ve,k(i)),T(o(ve).slice(0,-1)),p(Z,!1)}catch(l){console.log(`Se ha producido un error: ${l}`)}};mt(()=>{ie()});let H=k({});const fe=async()=>{try{const b=(await(await fetch("https://backend-rifas-tico.onrender.com/api/users")).json()).map(w=>w.tickets.map(V=>V.value)).flat();if(n().map(w=>w.value).some(w=>b.includes(w))){alert("Otra persona ha comprado este ticket"),p(Z,!0),ie(),n([]);return}}catch(l){console.error("Error al obtener usuarios:",l)}},x=async(l,i,d)=>{H[l]=!H[l];const b=n().find(g=>g.value===i);if(console.log(b),b){const g=n().filter(F=>F.value!==i);n([...g]);return}n([...n(),d]),I(n().length*r.ticketValue),console.log(I()),s().amount=I(),await fe()},J=(l,i)=>{H[l]=!H[l];const d=n().filter(b=>b!==i);n([...d]),console.log(n(),"removido")},R=l=>{l.preventDefault()},ne=async()=>{try{const l=await fetch(`${c}/flash/alo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s().name,ci:s().ci,phone:s().phone,amount:s().amount,tickets:n(),reference:s().reference})})}catch(l){console.error("Error al realizar la petici√≥n:",l)}ie()};pt(()=>{T().length>0&&(M(Math.floor((1-T().length/999)*100)),M(Math.max(M(),0)))});var G=Kt(),$=me(G),U=t(a($),2),ue=a(U),te=t(ue,2),ge=a(te);e(te);var Ee=t(te,18),Ye=a(Ee);e(Ee),e(U),e($);var be=t($,6),ye=a(be);Y(ye),ye.__input=[Tt,B,T,D],e(be);var Fe=t(be,2);{var et=l=>{dt(l)},tt=l=>{var i=Rt(),d=a(i);{var b=m=>{var y=Nt(),q=a(y);le(q,21,()=>o(B),re,(C,P)=>{var L=At();L.__click=[Ct,x,P];var pe=a(L,!0);e(L),A(()=>{Pe(L,1,We(H[o(P).id]?"clickeado":"numero-click"),"svelte-3rl5pi"),v(pe,o(P).value)}),u(C,L)}),e(q),e(y),u(m,y)};N(d,m=>{D().length>0&&m(b)})}var g=t(d,2);{var F=m=>{var y=Vt();le(y,21,T,re,(q,C)=>{var P=Mt();P.__click=[Bt,x,C];var L=a(P,!0);e(P),A(()=>{Pe(P,1,We(H[o(C).id]?"clickeado":"numero-click"),"svelte-3rl5pi"),v(L,o(C).value)}),u(q,P)}),e(y),u(m,y)};N(g,m=>{T().length>0&&m(F)})}var w=t(g,2);{var V=m=>{var y=Zt(),q=a(y),C=a(q);{var P=z=>{var O=Pt(),Q=a(O);e(O),A(()=>v(Q,`${n().length??""} de ${n().length??""} selectedTicket ${n().length*r.ticketValue} BS`)),u(z,O)};N(C,z=>{n().length>2&&z(P)})}var L=t(C,2);{var pe=z=>{var O=zt();u(z,O)};N(L,z=>{n().length===1&&z(pe)})}e(q);var _e=t(q,2);le(_e,21,n,re,(z,O)=>{var Q=Ft();Q.__click=[Et,J,O];var it=a(Q,!0);e(Q),A(()=>{Pe(Q,1,`tickets-selected ${H[o(O).id]?"clickeado":"numero-click"}`,"svelte-3rl5pi"),v(it,o(O).value)}),u(z,Q)}),e(_e),e(y),u(m,y)};N(w,m=>{n().length>0&&m(V)})}var W=t(w,2);{var ae=m=>{var y=It();u(m,y)};N(W,m=>{T().length===0&&m(ae)})}e(i),u(l,i)};N(Fe,l=>{o(Z)?l(et):l(tt,!1)})}var Ze=t(Fe,2);le(Ze,17,()=>se,re,(l,i)=>{var d=Lt(),b=a(d);e(d),A(g=>v(b,`tickets ${g??""} ${o(i).name??""} ${o(i).amount??""}`),[()=>o(i).tickets.map(g=>g.value)]),u(l,d)});var ke=t(Ze,2),xe=a(ke);Y(xe);var at=t(xe,2);at.__click=[St,c,oe,de,ee,ce],e(ke);var Ie=t(ke,2);{var lt=l=>{var i=Dt(),d=a(i),b=a(d,!0);e(d);var g=t(d,4);le(g,21,()=>o(de),re,(F,w)=>{var V=Ot(),W=a(V,!0);e(V),A(()=>v(W,o(w).value)),u(F,V)}),e(g),e(i),A(()=>v(b,o(ee).name)),u(l,i)};N(Ie,l=>{o(ce)&&l(lt)})}var Re=t(Ie,2);wt(Re,{get selectedTicket(){return n()},get ticketValue(){return r.ticketValue},get totalZelle(){return I()}});var we=t(Re,2),Le=a(we);{var rt=l=>{var i=jt(),d=a(i,!0);e(i),A(()=>v(d,o(j))),u(l,i)};N(Le,l=>{o(j)&&l(rt)})}var Se=t(Le,2),Te=a(Se),qe=t(a(Te));Y(qe),qe.__change=[ze,s,j],e(Te);var Oe=t(Te,2),Ce=t(a(Oe));Y(Ce),Ce.__change=[ze,s,j],e(Oe),e(Se);var Ae=t(Se,2),De=a(Ae),Ne=t(a(De));Y(Ne),Ne.__change=[ze,s,j],e(De),e(Ae);var Be=t(Ae,2),je=a(Be),Ge=t(a(je));Y(Ge),e(je),e(Be);var Me=t(Be,2),He=a(Me),Je=t(a(He));Y(Je),e(He),e(Me);var Ve=t(Me,2);Ve.__click=[qt,S];var Ue=t(Ve,2);{var st=l=>{var i=Jt(),d=t(a(i),2),b=a(d),g=a(b);e(b);var F=t(b,2),w=a(F);e(F);var V=t(F,2),W=a(V);e(V);var ae=t(V,2),m=a(ae);e(ae),e(d);var y=t(d,4),q=a(y);q.__click=[Gt,S,ne,h];var C=t(q,2);C.__click=[Ht,S],e(y),e(i),A(()=>{i.open=o(S),v(g,`Nombre: ${s().name??""}`),v(w,`Numero: ${s().phone??""}`),v(W,`Monto: ${s().amount??""}`),v(m,`Referencia: ${s().reference??""}`)}),u(l,i)};N(Ue,l=>{o(S)&&l(st)})}var ot=t(Ue,2);{var ct=l=>{var i=Wt(),d=t(a(i),6),b=a(d);e(d);var g=t(d,2),F=a(g);e(g);var w=t(g,2),V=a(w);e(w);var W=t(w,2),ae=a(W);e(W);var m=t(W,2),y=a(m);e(m);var q=t(m,2);le(q,21,n,re,(pe,_e)=>{var z=Ut(),O=a(z);e(z),A(()=>v(O,`${o(_e).value??""} ,`)),u(pe,z)}),e(q);var C=t(q,4),P=a(C);P.__click=[Ke,h,s,n],e(C);var L=t(C,2);L.__click=[Ke,h,s,n],e(i),A(()=>{i.open=o(h),v(b,`Nombre: ${s().name??""}`),v(F,`Cedula: ${s().ci??""}`),v(V,`N√∫mero: ${s().phone??""}`),v(ae,`Monto: ${s().amount??""}`),v(y,`Referencia: ${s().reference??""}`)}),u(l,i)};N(ot,l=>{o(h)&&l(ct)})}e(we),A(()=>{vt(ue,M()),v(ge,`Se han vendido ${M()??""}% de los n√∫meros`),v(Ye,`+${r.mainPhone??""}`),Ve.disabled=n().length<2}),X(ye,D),X(xe,()=>o(oe),l=>p(oe,l)),ht("submit",we,R),X(qe,()=>s().name,l=>s().name=l),X(Ce,()=>s().ci,l=>s().ci=l),X(Ne,()=>s().phone,l=>s().phone=l),X(Ge,()=>s().reference,l=>s().reference=l),X(Je,()=>s().amount,l=>s().amount=l),u(f,G),Qe()}Xe(["input","click","change"]);var Qt=_("<main><!> <!> <!></main>");function sa(f){let r="10 de Enero",c="MOTO AVA TIGRITO 175CC 2024 IMPECABLE",h=0;k([]),k([]);let S=k([]),B="",Z=120,M=k({}),s=k([]),I=k([]),D="584124676100";var T=Qt(),n=a(T);ut(n,{});var j=t(n,2);$t(j,{get rangoValue(){return h},get ticketValue(){return Z},get formData(){return M},fechaSorteo:r,premioMayor:c,get totalZelle(){return B},get findNumber(){return S},mainPhone:D,get numbersAvailable(){return s},get selectedTicket(){return I}});var se=t(j,2);_t(se,{mainPhone:D}),e(T),u(f,T)}export{sa as component};
