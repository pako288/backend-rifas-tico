import{t as u,a as g}from"../chunks/CAyPSqEj.js";import{y as $e,s as t,f as he,B as a,A as Qe,J as v,a8 as E,C as e,q as r,a2 as it,z as A,l as vt}from"../chunks/C6WS5P7N.js";import{a as K,p as b}from"../chunks/D8cVPlrl.js";import{e as se,b as X,r as Y,i as le,s as dt,S as pt,a as Pe,c as We,H as gt}from"../chunks/DUD74Wee.js";import{F as ut}from"../chunks/CqHMg-eQ.js";import{d as Xe,s as d,e as _t}from"../chunks/4Ft09Epl.js";import{i as N}from"../chunks/CtLDcgxE.js";import{o as ht}from"../chunks/CIPgnyCg.js";const _e=y=>{navigator.clipboard.writeText(y.target.textContent),console.log(`Se copió el texto: ${y.target.textContent}`)};var yt=(y,l)=>l("bdv"),mt=u('<h3>Titular:</h3> <h4 class="svelte-yh4q2y"> </h4> <h4 class="svelte-yh4q2y"> </h4> <h4 class="svelte-yh4q2y"> </h4> <p> </p>',1),kt=(y,l)=>l("zelle"),ft=u('<h4 class="svelte-yh4q2y"> </h4>  <p> </p>',1),bt=u('<h4 class="svelte-yh4q2y">La compra minima por zelle es de 7 Boletos</h4>'),xt=u('<h1 class="svelte-yh4q2y">Seleccione su método de pago</h1> <section class="metodo-pago svelte-yh4q2y"><article class="bdv-box svelte-yh4q2y"><figure><img id="bdv" src="/banesco.png" alt="bdv" class="svelte-yh4q2y"></figure> <!></article> <article class="zelle-box svelte-yh4q2y"><figure><img id="zelle" src="/zelle.png" alt="Zelle" class="svelte-yh4q2y"></figure> <!></article></section> <!> <article class="data-pago svelte-yh4q2y"></article>',1);function wt(y,l){$e(l,!0);let c=E(!1),_=E(!1),S=E(!1),B=K(l,"ticketValue",7),Z=K(l,"totalZelle",7);const M=[{nombre:"Banesco",telefono:"04127631825",cedula:"20681512",titular:"Alberto Gonzalez"},{nombre:"Zelle",telefono:"+13179660928",correo:"soraysidanielamedinagarcia@gmail.com",name:"Ronald Sukdhai"}],o=x=>{x==="bdv"&&(B(120),v(c,!0),v(_,!1)),x==="zelle"&&(B(1.5),Z(l.selectedTicket.length*B()),v(c,!1),v(_,!0),l.selectedTicket.length>14&&(v(S,!0),console.log("se detecta que haya 4 tickets o menos")))};var I=xt(),D=t(he(I),2),T=a(D),i=a(T),j=a(i);j.__click=[yt,o],e(i);var oe=t(i,2);{var re=x=>{var J=mt(),R=t(he(J),2);R.__click=[_e];var ie=a(R,!0);e(R);var G=t(R,2);G.__click=[_e];var $=a(G,!0);e(G);var U=t(G,2);U.__click=[_e];var ge=a(U,!0);e(U);var te=t(U,2),me=a(te);e(te),A(()=>{d(ie,M[0].titular),d($,M[0].telefono),d(ge,M[0].cedula),d(me,`${B()*l.selectedTicket.length} BS`)}),g(x,J)};N(oe,x=>{r(c)&&x(re)})}e(T);var ce=t(T,2),ee=a(ce),de=a(ee);de.__click=[kt,o],e(ee);var pe=t(ee,2);{var ne=x=>{var J=ft(),R=he(J);R.__click=[_e];var ie=a(R,!0);e(R);var G=t(R,2),$=a(G);e(G),A(U=>{d(ie,M[1].correo),d($,`${U??""} $`)},[()=>Math.round(Z()*10)/10]),g(x,J)};N(pe,x=>{r(_)&&x(ne)})}e(ce),e(D);var H=t(D,2);{var ye=x=>{var J=bt();g(x,J)};N(H,x=>{r(S)&&x(ye)})}it(2),g(y,I),Qe()}Xe(["click"]);const St=async(y,l,c,_,S,B)=>{try{const o=(await(await fetch(`${l}/flash/ticketselected`)).json()).find(I=>I.ci===r(c));o?(v(_,b([...o.tickets])),v(S,b(o)),v(B,!0)):(console.log("Usuario no encontrado"),v(_,b([])),v(B,!1))}catch(Z){console.error("Error al obtener usuarios:",Z),v(_,b([])),v(S,null),v(B,!1)}},Ke=(y,l,c,_)=>{v(l,!1),c({}),_([]),window.location.reload()},Tt=(y,l,c,_)=>{v(l,b(c().filter(S=>S.value.includes(_()))))},qt=(y,l)=>{console.log("clic"),v(l,!0)},ze=(y,l,c)=>{l().name.length<4&&v(c,"El nombre debe tener al menos 4 caracteres."),l().name.length>4&&v(c,null),l().phone.length<11&&v(c,"El número de telefono debe tener al menos 11 caracteres."),l().phone.length>11&&v(c,null)};var Ct=(y,l,c)=>l(r(c).id,r(c).value,r(c)),At=u("<p> </p>"),Nt=u('<article class="find-number-box svelte-1o6k4gy"><section class="generate-numbers números svelte-1o6k4gy"></section></article>'),Bt=(y,l,c)=>l(r(c).id,r(c).value,r(c)),Mt=u("<p> </p>"),Vt=u('<article class="números numbers-available-container svelte-1o6k4gy"></article>'),Pt=u('<p class="selected-content svelte-1o6k4gy"> </p>'),zt=u('<p class="selected-content svelte-1o6k4gy">Agrega otro ticket</p>'),Et=(y,l,c)=>l(r(c).id,r(c)),Ft=u("<p> </p>"),Zt=u('<section class="flotante svelte-1o6k4gy"><section class="data-selected svelte-1o6k4gy"><!> <!></section> <section class="selectedTicket svelte-1o6k4gy"></section></section>'),It=u('<h2 class="notificacion svelte-1o6k4gy" style="text-align: center;">Se han agotado todos los tickets. Atento al sorteo</h2>'),Rt=u('<section class="números-container svelte-1o6k4gy"><!> <!> <!> <!></section>'),Lt=u('<p class="svelte-1o6k4gy"> </p>'),Ot=u('<p style="display: inline;" class="svelte-1o6k4gy"> </p>'),Dt=u('<section class="data-finded svelte-1o6k4gy"><p class="svelte-1o6k4gy"> </p> <p class="svelte-1o6k4gy">Sus tickets comprados son:</p> <section class="tickets svelte-1o6k4gy" style="display: flex; flex-wrap: wrap; flex-direction: row; "></section></section>'),jt=u('<p style="color: red;" class="svelte-1o6k4gy"> </p>'),Gt=(y,l,c,_)=>{v(l,!1),c(),v(_,!0)},Ht=(y,l)=>v(l,!1),Jt=u('<dialog class="svelte-1o6k4gy"><h2 class="svelte-1o6k4gy">Tus datos ingresados son:</h2> <article class="svelte-1o6k4gy"><p class="svelte-1o6k4gy"> </p> <p class="svelte-1o6k4gy"> </p> <p class="svelte-1o6k4gy"> </p> <p class="svelte-1o6k4gy"> </p></article> <h2 class="svelte-1o6k4gy">Desea continuar?</h2> <article class="button-dialogs svelte-1o6k4gy"><p class="svelte-1o6k4gy">Si</p> <p class="svelte-1o6k4gy">No</p></article></dialog>'),Ut=u('<p style=" height: max-content; padding: 0;" class="svelte-1o6k4gy"> </p>'),Wt=u(`<dialog class="svelte-1o6k4gy"><h1 style="padding: 10px;" class="svelte-1o6k4gy">!Felicidades! Estas participando.</h1> <h2 class="svelte-1o6k4gy">En 24hrs será verificado tu pago y te llegará un whatsapp de confirmación. Para aumentar tus
				posibilidades sigue comprando mas boletos</h2> <h1 class="svelte-1o6k4gy">Datos de tu compra:</h1> <p class="svelte-1o6k4gy"> </p> <p class="svelte-1o6k4gy"> </p> <p class="svelte-1o6k4gy"> </p> <p class="svelte-1o6k4gy"> </p> <p class="svelte-1o6k4gy"> </p> <section style="display: flex; flex-direction: row; gap: 10px; width: auto; flex-wrap: wrap; max-width: 300px;" class="svelte-1o6k4gy"></section> <p style="padding: 10px; text-wrap: pretty;" class="svelte-1o6k4gy">Para mayor seguridad envia tu comprobante de pago por whatsapp</p> <article class="dialog-contact svelte-1o6k4gy"><a href="https://api.whatsapp.com/send?phone=584124676100&amp;text=Hola%20Alberto.%20Me%20comunico%20contigo%20para%20" target="_blank" class="svelte-1o6k4gy"><svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 24 24" class="svelte-1o6k4gy"><path fill="#fff" d="M19.05 4.91A9.82 9.82 0 0 0 12.04 2c-5.46 0-9.91 4.45-9.91 9.91c0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21c5.46 0 9.91-4.45 9.91-9.91c0-2.65-1.03-5.14-2.9-7.01m-7.01 15.24c-1.48 0-2.93-.4-4.2-1.15l-.3-.18l-3.12.82l.83-3.04l-.2-.31a8.26 8.26 0 0 1-1.26-4.38c0-4.54 3.7-8.24 8.24-8.24c2.2 0 4.27.86 5.82 2.42a8.18 8.18 0 0 1 2.41 5.83c.02 4.54-3.68 8.23-8.22 8.23m4.52-6.16c-.25-.12-1.47-.72-1.69-.81c-.23-.08-.39-.12-.56.12c-.17.25-.64.81-.78.97c-.14.17-.29.19-.54.06c-.25-.12-1.05-.39-1.99-1.23c-.74-.66-1.23-1.47-1.38-1.72c-.14-.25-.02-.38.11-.51c.11-.11.25-.29.37-.43s.17-.25.25-.41c.08-.17.04-.31-.02-.43s-.56-1.34-.76-1.84c-.2-.48-.41-.42-.56-.43h-.48c-.17 0-.43.06-.66.31c-.22.25-.86.85-.86 2.07s.89 2.4 1.01 2.56c.12.17 1.75 2.67 4.23 3.74c.59.26 1.05.41 1.41.52c.59.19 1.13.16 1.56.1c.48-.07 1.47-.6 1.67-1.18c.21-.58.21-1.07.14-1.18s-.22-.16-.47-.28" class="svelte-1o6k4gy"></path></svg> +584124676100</a></article> <button class="svelte-1o6k4gy">✔ Listo</button></dialog>`),Kt=u(`<article class="banner svelte-1o6k4gy"><figure class="svelte-1o6k4gy"><img class="main-poster svelte-1o6k4gy" src="/card-flash.webp" alt="main poster"></figure> <section class="svelte-1o6k4gy"><progress class="range svelte-1o6k4gy" max="100"></progress> <h1 class="svelte-1o6k4gy"> </h1> <article class="banner-item svelte-1o6k4gy"><h1 class="title svelte-1o6k4gy">⚡️ FLASH ⚡️</h1></article> <h1 class="svelte-1o6k4gy"><strong class="svelte-1o6k4gy">¡2 felices ganadores! ¡Chance A y B!</strong></h1> <h1 class="premio-mayor svelte-1o6k4gy">1er premio: Chance A: BS.40.000</h1> <h1 class="premio-mayor svelte-1o6k4gy">2do premio: Chance B: BS. 40.000</h1> <h2 class="text-bold svelte-1o6k4gy"><strong class="svelte-1o6k4gy">PAGO MOVIL</strong></h2> <p class="svelte-1o6k4gy">¿Cómo participo?</p> <p style=" text-wrap: pretty; width: 100%; " class="svelte-1o6k4gy">Selecciona tús números (mínimo 2 para que tengas aun más chance de ganar familia) <br class="svelte-1o6k4gy"> <br class="svelte-1o6k4gy"> Luego selecciona tu metodo de pago (pago móvil o zelle) al selecionar el metodo de pago, te
			aparecen los datos del mismo, sales y haces tu pago. <br class="svelte-1o6k4gy"> <br class="svelte-1o6k4gy"> Al volver, colocas muy bien tus datos personales, número de teléfono y referencia del págo y
			listo! 🚀🙏🏼 <br class="svelte-1o6k4gy"> <br class="svelte-1o6k4gy"> El sorteo se realizará por la Loteria Chance A y B (000 al 999) de las 7:00PM. ¡Muchisima
			suerte a todos los participantes! Son unas personas increibles!❤️🤝</p> <h4 class="svelte-1o6k4gy">Whatsapp de soporte</h4> <p class="whatsapp svelte-1o6k4gy"> </p></section></article> <br class="svelte-1o6k4gy"> <br class="svelte-1o6k4gy"> <section class="find-number svelte-1o6k4gy"><input class="input-finder svelte-1o6k4gy" type="text" name="" id="" placeholder="Buscar numero"></section> <!> <!> <section class="find-ticket-container svelte-1o6k4gy"><input type="text" placeholder="BUSCAR TICKET " class="svelte-1o6k4gy"> <button type="submit" class="svelte-1o6k4gy">🔍 Buscar ticket</button></section> <!> <!> <form class="payment-form svelte-1o6k4gy"><!> <section class="svelte-1o6k4gy"><label for="name" class="svelte-1o6k4gy">Nombre y apellido <input type="text" name="name" id="name" placeholder="Ingresa tu nombre y apellido" minlength="4" required class="svelte-1o6k4gy"></label> <label for="ci" class="svelte-1o6k4gy">Cedula de identidad <input type="text" name="ci" id="ci" placeholder="Ingresa tu cedula de identidad" minlength="8" required class="svelte-1o6k4gy"></label></section> <section class="svelte-1o6k4gy"><label for="phone" class="svelte-1o6k4gy">Telefono <input type="text" name="phone" id="phone" placeholder="Número de teléfono sin el +" minlength="10" required class="svelte-1o6k4gy"></label></section> <section class="svelte-1o6k4gy"><label for="reference" class="svelte-1o6k4gy">Referencia <input type="text" name="reference" id="reference" placeholder="Referencia de su pago" required class="svelte-1o6k4gy"></label></section> <section class="svelte-1o6k4gy"><label for="amount" class="svelte-1o6k4gy">Monto <input type="text" name="amount" id="amount" placeholder="Monto a pagar" required class="svelte-1o6k4gy"></label></section> <button class="submit-button svelte-1o6k4gy">Confirmar y enviar por whatsapp</button> <!> <!></form>`,1);function $t(y,l){$e(l,!0);let c="https://backend-rifas-tico.onrender.com",_=E(!1),S=E(!1),B=E(""),Z=E(!0),M=K(l,"rangoValue",15),o=K(l,"formData",7),I=K(l,"totalZelle",7),D=K(l,"findNumber",7),T=K(l,"numbersAvailable",7),i=K(l,"selectedTicket",7),j=E(""),oe=b([]),re=E(""),ce=E(!1),ee=E(b([])),de=E(b([])),pe=E(b([]));b([]);const ne=async()=>{try{const n=await(await fetch(`${c}/flash/items`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();v(de,b(n)),T(r(de).slice(0,-1)),v(Z,!1)}catch(s){console.log(`Se ha producido un error: ${s}`)}};ht(()=>{ne()});let H=b({});const ye=async()=>{try{const k=(await(await fetch("https://backend-rifas-tico.onrender.com/api/users")).json()).map(w=>w.tickets.map(V=>V.value)).flat();if(i().map(w=>w.value).some(w=>k.includes(w))){alert("Otra persona ha comprado este ticket"),v(Z,!0),ne(),i([]);return}}catch(s){console.error("Error al obtener usuarios:",s)}},x=async(s,n,p)=>{H[s]=!H[s];const k=i().find(m=>m.value===n);if(console.log(k),k){const m=i().filter(F=>F.value!==n);i([...m]);return}i([...i(),p]),I(i().length*l.ticketValue),console.log(I()),o().amount=I(),await ye()},J=(s,n)=>{H[s]=!H[s];const p=i().filter(k=>k!==n);i([...p]),console.log(i(),"removido")},R=s=>{s.preventDefault()},ie=async()=>{try{const s=await fetch(`${c}/flash/alo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o().name,ci:o().ci,phone:o().phone,amount:o().amount,tickets:i(),reference:o().reference})})}catch(s){console.error("Error al realizar la petición:",s)}ne()};vt(()=>{T().length>0&&(M(Math.floor((1-T().length/999)*100)),M(Math.max(M(),0)))});var G=Kt(),$=he(G),U=t(a($),2),ge=a(U),te=t(ge,2),me=a(te);e(te);var Ee=t(te,18),Ye=a(Ee);e(Ee),e(U),e($);var ke=t($,6),fe=a(ke);Y(fe),fe.__input=[Tt,B,T,D],e(ke);var Fe=t(ke,2);{var et=s=>{pt(s)},tt=s=>{var n=Rt(),p=a(n);{var k=h=>{var f=Nt(),q=a(f);se(q,21,()=>r(B),le,(C,P)=>{var L=At();L.__click=[Ct,x,P];var ve=a(L,!0);e(L),A(()=>{Pe(L,1,We(H[r(P).id]?"clickeado":"numero-click"),"svelte-1o6k4gy"),d(ve,r(P).value)}),g(C,L)}),e(q),e(f),g(h,f)};N(p,h=>{D().length>0&&h(k)})}var m=t(p,2);{var F=h=>{var f=Vt();se(f,21,T,le,(q,C)=>{var P=Mt();P.__click=[Bt,x,C];var L=a(P,!0);e(P),A(()=>{Pe(P,1,We(H[r(C).id]?"clickeado":"numero-click"),"svelte-1o6k4gy"),d(L,r(C).value)}),g(q,P)}),e(f),g(h,f)};N(m,h=>{T().length>0&&h(F)})}var w=t(m,2);{var V=h=>{var f=Zt(),q=a(f),C=a(q);{var P=z=>{var O=Pt(),Q=a(O);e(O),A(()=>d(Q,`${i().length??""} de ${i().length??""} selectedTicket ${i().length*l.ticketValue} BS`)),g(z,O)};N(C,z=>{i().length>2&&z(P)})}var L=t(C,2);{var ve=z=>{var O=zt();g(z,O)};N(L,z=>{i().length===1&&z(ve)})}e(q);var ue=t(q,2);se(ue,21,i,le,(z,O)=>{var Q=Ft();Q.__click=[Et,J,O];var nt=a(Q,!0);e(Q),A(()=>{Pe(Q,1,`tickets-selected ${H[r(O).id]?"clickeado":"numero-click"}`,"svelte-1o6k4gy"),d(nt,r(O).value)}),g(z,Q)}),e(ue),e(f),g(h,f)};N(w,h=>{i().length>0&&h(V)})}var W=t(w,2);{var ae=h=>{var f=It();g(h,f)};N(W,h=>{T().length===0&&h(ae)})}e(n),g(s,n)};N(Fe,s=>{r(Z)?s(et):s(tt,!1)})}var Ze=t(Fe,2);se(Ze,17,()=>oe,le,(s,n)=>{var p=Lt(),k=a(p);e(p),A(m=>d(k,`tickets ${m??""} ${r(n).name??""} ${r(n).amount??""}`),[()=>r(n).tickets.map(m=>m.value)]),g(s,p)});var be=t(Ze,2),xe=a(be);Y(xe);var at=t(xe,2);at.__click=[St,c,re,pe,ee,ce],e(be);var Ie=t(be,2);{var st=s=>{var n=Dt(),p=a(n),k=a(p,!0);e(p);var m=t(p,4);se(m,21,()=>r(pe),le,(F,w)=>{var V=Ot(),W=a(V,!0);e(V),A(()=>d(W,r(w).value)),g(F,V)}),e(m),e(n),A(()=>d(k,r(ee).name)),g(s,n)};N(Ie,s=>{r(ce)&&s(st)})}var Re=t(Ie,2);wt(Re,{get selectedTicket(){return i()},get ticketValue(){return l.ticketValue},get totalZelle(){return I()}});var we=t(Re,2),Le=a(we);{var lt=s=>{var n=jt(),p=a(n,!0);e(n),A(()=>d(p,r(j))),g(s,n)};N(Le,s=>{r(j)&&s(lt)})}var Se=t(Le,2),Te=a(Se),qe=t(a(Te));Y(qe),qe.__change=[ze,o,j],e(Te);var Oe=t(Te,2),Ce=t(a(Oe));Y(Ce),Ce.__change=[ze,o,j],e(Oe),e(Se);var Ae=t(Se,2),De=a(Ae),Ne=t(a(De));Y(Ne),Ne.__change=[ze,o,j],e(De),e(Ae);var Be=t(Ae,2),je=a(Be),Ge=t(a(je));Y(Ge),e(je),e(Be);var Me=t(Be,2),He=a(Me),Je=t(a(He));Y(Je),e(He),e(Me);var Ve=t(Me,2);Ve.__click=[qt,S];var Ue=t(Ve,2);{var ot=s=>{var n=Jt(),p=t(a(n),2),k=a(p),m=a(k);e(k);var F=t(k,2),w=a(F);e(F);var V=t(F,2),W=a(V);e(V);var ae=t(V,2),h=a(ae);e(ae),e(p);var f=t(p,4),q=a(f);q.__click=[Gt,S,ie,_];var C=t(q,2);C.__click=[Ht,S],e(f),e(n),A(()=>{n.open=r(S),d(m,`Nombre: ${o().name??""}`),d(w,`Numero: ${o().phone??""}`),d(W,`Monto: ${o().amount??""}`),d(h,`Referencia: ${o().reference??""}`)}),g(s,n)};N(Ue,s=>{r(S)&&s(ot)})}var rt=t(Ue,2);{var ct=s=>{var n=Wt(),p=t(a(n),6),k=a(p);e(p);var m=t(p,2),F=a(m);e(m);var w=t(m,2),V=a(w);e(w);var W=t(w,2),ae=a(W);e(W);var h=t(W,2),f=a(h);e(h);var q=t(h,2);se(q,21,i,le,(ve,ue)=>{var z=Ut(),O=a(z);e(z),A(()=>d(O,`${r(ue).value??""} ,`)),g(ve,z)}),e(q);var C=t(q,4),P=a(C);P.__click=[Ke,_,o,i],e(C);var L=t(C,2);L.__click=[Ke,_,o,i],e(n),A(()=>{n.open=r(_),d(k,`Nombre: ${o().name??""}`),d(F,`Cedula: ${o().ci??""}`),d(V,`Número: ${o().phone??""}`),d(ae,`Monto: ${o().amount??""}`),d(f,`Referencia: ${o().reference??""}`)}),g(s,n)};N(rt,s=>{r(_)&&s(ct)})}e(we),A(()=>{dt(ge,M()),d(me,`Se han vendido ${M()??""}% de los números`),d(Ye,`+${l.mainPhone??""}`),Ve.disabled=i().length<2}),X(fe,D),X(xe,()=>r(re),s=>v(re,s)),_t("submit",we,R),X(qe,()=>o().name,s=>o().name=s),X(Ce,()=>o().ci,s=>o().ci=s),X(Ne,()=>o().phone,s=>o().phone=s),X(Ge,()=>o().reference,s=>o().reference=s),X(Je,()=>o().amount,s=>o().amount=s),g(y,G),Qe()}Xe(["input","click","change"]);var Qt=u("<main><!> <!> <!></main>");function ra(y){let l="10 de Enero",c="MOTO AVA TIGRITO 175CC 2024 IMPECABLE",_=0;b([]),b([]);let S=b([]),B="",Z=120,M=b({}),o=b([]),I=b([]),D="584124676100";var T=Qt(),i=a(T);gt(i,{});var j=t(i,2);$t(j,{get rangoValue(){return _},get ticketValue(){return Z},get formData(){return M},fechaSorteo:l,premioMayor:c,get totalZelle(){return B},get findNumber(){return S},mainPhone:D,get numbersAvailable(){return o},get selectedTicket(){return I}});var oe=t(j,2);ut(oe,{mainPhone:D}),e(T),g(y,T)}export{ra as component};
