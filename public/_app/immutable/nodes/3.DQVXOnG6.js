import{t as _,a as u}from"../chunks/BLBjSD1j.js";import{y as Ke,s as a,f as he,B as t,A as Qe,J as v,a7 as O,C as e,q as o,a8 as nt,z as N,l as vt}from"../chunks/CjMKQPc5.js";import{a as U,p as x}from"../chunks/CmI1mrV9.js";import{e as le,b as X,r as Y,i as se,s as dt,S as pt,a as ze,c as $e,H as ut,F as _t}from"../chunks/LMaHAgf0.js";import{d as Xe,s as d,e as mt}from"../chunks/CHB7VOKY.js";import{i as C}from"../chunks/BHaxyKbt.js";import{o as ht}from"../chunks/BOx9Rgfy.js";const me=f=>{navigator.clipboard.writeText(f.target.textContent),console.log(`Se copi√≥ el texto: ${f.target.textContent}`)};var ft=(f,s)=>s("bdv"),gt=_('<h4 class="svelte-1fvoqi"> </h4> <h4 class="svelte-1fvoqi"> </h4> <h4 class="svelte-1fvoqi"> </h4> <p> </p>',1),bt=(f,s)=>s("zelle"),kt=_('<h4 class="svelte-1fvoqi"> </h4>  <p> </p>',1),xt=_('<h4 class="svelte-1fvoqi">La compra minima por zelle es de 7 Boletos</h4>'),yt=_('<h1 class="svelte-1fvoqi">Seleccione su m√©todo de pago</h1> <section class="metodo-pago svelte-1fvoqi"><article class="bdv-box svelte-1fvoqi"><figure><img id="bdv" src="/banesco.png" alt="bdv" class="svelte-1fvoqi"></figure> <!></article> <article class="zelle-box svelte-1fvoqi"><figure><img id="zelle" src="/zelle.png" alt="Zelle" class="svelte-1fvoqi"></figure> <!></article></section> <!> <article class="data-pago svelte-1fvoqi"></article>',1);function wt(f,s){Ke(s,!0);let i=O(!1),m=O(!1),S=O(!1),M=U(s,"ticketValue",7),F=U(s,"totalZelle",7);const V=[{nombre:"Banesco",telefono:"04127631825",cedula:"20681512",titular:"Alberto Gonzalez"},{nombre:"Zelle",telefono:"+13179660928",correo:"soraysidanielamedinagarcia@gmail.com",name:"Ronald Sukdhai"}],r=y=>{y==="bdv"&&(M(120),v(i,!0),v(m,!1)),y==="zelle"&&(M(1.5),F(s.selectedTicket.length*M()),v(i,!1),v(m,!0),s.selectedTicket.length>14&&(v(S,!0),console.log("se detecta que haya 4 tickets o menos")))};var Z=yt(),D=a(he(Z),2),T=t(D),n=t(T),G=t(n);G.__click=[ft,r],e(n);var re=a(n,2);{var oe=y=>{var J=gt(),L=he(J);L.__click=[me];var ne=t(L,!0);e(L);var j=a(L,2);j.__click=[me];var K=t(j,!0);e(j);var W=a(j,2);W.__click=[me];var ue=t(W,!0);e(W);var te=a(W,2),ge=t(te);e(te),N(()=>{d(ne,V[0].titular),d(K,V[0].telefono),d(ue,V[0].cedula),d(ge,`${M()*s.selectedTicket.length} BS`)}),u(y,J)};C(re,y=>{o(i)&&y(oe)})}e(T);var ie=a(T,2),ee=t(ie),de=t(ee);de.__click=[bt,r],e(ee);var pe=a(ee,2);{var ce=y=>{var J=kt(),L=he(J);L.__click=[me];var ne=t(L,!0);e(L);var j=a(L,2),K=t(j);e(j),N(W=>{d(ne,V[1].correo),d(K,`${W??""} $`)},[()=>Math.round(F()*10)/10]),u(y,J)};C(pe,y=>{o(m)&&y(ce)})}e(ie),e(D);var H=a(D,2);{var fe=y=>{var J=xt();u(y,J)};C(H,y=>{o(S)&&y(fe)})}nt(2),u(f,Z),Qe()}Xe(["click"]);const St=async(f,s,i,m,S,M)=>{try{const r=(await(await fetch(`${s}/flash/ticketselected`)).json()).find(Z=>Z.ci===o(i));r?(v(m,x([...r.tickets])),v(S,x(r)),v(M,!0)):(console.log("Usuario no encontrado"),v(m,x([])),v(M,!1))}catch(F){console.error("Error al obtener usuarios:",F),v(m,x([])),v(S,null),v(M,!1)}},Ue=(f,s,i,m)=>{v(s,!1),i({}),m([]),window.location.reload()},Tt=(f,s,i,m)=>{v(s,x(i().filter(S=>S.value.includes(m()))))},qt=(f,s)=>{console.log("clic"),v(s,!0)},Be=(f,s,i)=>{s().name.length<4&&v(i,"El nombre debe tener al menos 4 caracteres."),s().name.length>4&&v(i,null),s().phone.length<11&&v(i,"El n√∫mero de telefono debe tener al menos 11 caracteres."),s().phone.length>11&&v(i,null)};var At=(f,s,i)=>s(o(i).id,o(i).value,o(i)),Nt=_("<p> </p>"),Ct=_('<article class="find-number-box svelte-16i1618"><section class="generate-numbers n√∫meros svelte-16i1618"></section></article>'),Mt=(f,s,i)=>s(o(i).id,o(i).value,o(i)),Vt=_("<p> </p>"),Pt=_('<article class="n√∫meros numbers-available-container svelte-16i1618"></article>'),zt=_('<p class="selected-content svelte-16i1618"> </p>'),Bt=_('<p class="selected-content svelte-16i1618">Agrega otro ticket</p>'),Ot=(f,s,i)=>s(o(i).id,o(i)),Et=_("<p> </p>"),Ft=_('<section class="flotante svelte-16i1618"><section class="data-selected svelte-16i1618"><!> <!></section> <section class="selectedTicket svelte-16i1618"></section></section>'),Zt=_('<h2 class="notificacion svelte-16i1618" style="text-align: center;">Se han agotado todos los tickets. Atento al sorteo</h2>'),Lt=_('<section class="n√∫meros-container svelte-16i1618"><!> <!> <!> <!></section>'),Rt=_('<p class="svelte-16i1618"> </p>'),It=_('<p style="display: inline;" class="svelte-16i1618"> </p>'),Dt=_('<section class="data-finded svelte-16i1618"><p class="svelte-16i1618"> </p> <p class="svelte-16i1618">Sus tickets comprados son:</p> <section class="tickets svelte-16i1618" style="display: flex; flex-wrap: wrap; flex-direction: row; "></section></section>'),Gt=_('<p style="color: red;" class="svelte-16i1618"> </p>'),jt=(f,s,i,m)=>{v(s,!1),i(),v(m,!0)},Ht=(f,s)=>v(s,!1),Jt=_('<dialog class="svelte-16i1618"><h2 class="svelte-16i1618">Tus datos ingresados son:</h2> <article class="svelte-16i1618"><p class="svelte-16i1618"> </p> <p class="svelte-16i1618"> </p> <p class="svelte-16i1618"> </p> <p class="svelte-16i1618"> </p></article> <h2 class="svelte-16i1618">Desea continuar?</h2> <article class="button-dialogs svelte-16i1618"><p class="svelte-16i1618">Si</p> <p class="svelte-16i1618">No</p></article></dialog>'),Wt=_('<p style=" height: max-content; padding: 0;" class="svelte-16i1618"> </p>'),$t=_(`<dialog class="svelte-16i1618"><h1 style="padding: 10px;" class="svelte-16i1618">!Felicidades! Estas participando.</h1> <h2 class="svelte-16i1618">En 24hrs ser√° verificado tu pago y te llegar√° un whatsapp de confirmaci√≥n. Para aumentar tus
				posibilidades sigue comprando mas boletos</h2> <h1 class="svelte-16i1618">Datos de tu compra:</h1> <p class="svelte-16i1618"> </p> <p class="svelte-16i1618"> </p> <p class="svelte-16i1618"> </p> <p class="svelte-16i1618"> </p> <p class="svelte-16i1618"> </p> <section style="display: flex; flex-direction: row; gap: 10px; width: auto; flex-wrap: wrap; max-width: 300px;" class="svelte-16i1618"></section> <p style="padding: 10px; text-wrap: pretty;" class="svelte-16i1618">Para mayor seguridad envia tu comprobante de pago por whatsapp</p> <article class="dialog-contact svelte-16i1618"><a href="https://api.whatsapp.com/send?phone=584124676100&amp;text=Hola%20Alberto.%20Me%20comunico%20contigo%20para%20" target="_blank" class="svelte-16i1618"><svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 24 24" class="svelte-16i1618"><path fill="#fff" d="M19.05 4.91A9.82 9.82 0 0 0 12.04 2c-5.46 0-9.91 4.45-9.91 9.91c0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21c5.46 0 9.91-4.45 9.91-9.91c0-2.65-1.03-5.14-2.9-7.01m-7.01 15.24c-1.48 0-2.93-.4-4.2-1.15l-.3-.18l-3.12.82l.83-3.04l-.2-.31a8.26 8.26 0 0 1-1.26-4.38c0-4.54 3.7-8.24 8.24-8.24c2.2 0 4.27.86 5.82 2.42a8.18 8.18 0 0 1 2.41 5.83c.02 4.54-3.68 8.23-8.22 8.23m4.52-6.16c-.25-.12-1.47-.72-1.69-.81c-.23-.08-.39-.12-.56.12c-.17.25-.64.81-.78.97c-.14.17-.29.19-.54.06c-.25-.12-1.05-.39-1.99-1.23c-.74-.66-1.23-1.47-1.38-1.72c-.14-.25-.02-.38.11-.51c.11-.11.25-.29.37-.43s.17-.25.25-.41c.08-.17.04-.31-.02-.43s-.56-1.34-.76-1.84c-.2-.48-.41-.42-.56-.43h-.48c-.17 0-.43.06-.66.31c-.22.25-.86.85-.86 2.07s.89 2.4 1.01 2.56c.12.17 1.75 2.67 4.23 3.74c.59.26 1.05.41 1.41.52c.59.19 1.13.16 1.56.1c.48-.07 1.47-.6 1.67-1.18c.21-.58.21-1.07.14-1.18s-.22-.16-.47-.28" class="svelte-16i1618"></path></svg> +584124676100</a></article> <button class="svelte-16i1618">‚úî Listo</button></dialog>`),Ut=_(`<article class="banner svelte-16i1618"><figure class="svelte-16i1618"><img class="main-poster svelte-16i1618" src="/nueva.webp" alt="main poster"></figure> <section class="svelte-16i1618"><progress class="range svelte-16i1618" max="100"></progress> <h1 class="svelte-16i1618"> </h1> <article class="banner-item svelte-16i1618"><h1 class="title svelte-16i1618">‚ö°Ô∏è FLASH ‚ö°Ô∏è</h1></article> <h1 class="premio-mayor svelte-16i1618">Gana 300$ en efectivo, zelle o pago movil</h1> <h1 class="premio-mayor svelte-16i1618">1 SOLO GANADOR</h1> <h1 class="premio-mayor svelte-16i1618">Chance A 7:00PM</h1> <h2 class="text-bold svelte-16i1618"><strong class="svelte-16i1618">PAGO MOVIL</strong></h2> <p class="svelte-16i1618">¬øC√≥mo participo?</p> <p style=" text-wrap: pretty; width: 100%; " class="svelte-16i1618">Selecciona t√∫s n√∫meros (m√≠nimo 2 para que tengas aun m√°s chance de ganar familia) <br class="svelte-16i1618"> <br class="svelte-16i1618"> Luego selecciona tu metodo de pago (pago m√≥vil o zelle) al selecionar el metodo de pago, te
			aparecen los datos del mismo, sales y haces tu pago. <br class="svelte-16i1618"> <br class="svelte-16i1618"> Al volver, colocas muy bien tus datos personales, n√∫mero de tel√©fono y referencia del p√°go y
			listo! üöÄüôèüèº <br class="svelte-16i1618"> <br class="svelte-16i1618"> El sorteo se realizar√° por la Loteria Chance A (000 al 999) de las 7:00PM. ¬°Muchisima
			suerte a todos los participantes! Son unas personas increibles!‚ù§Ô∏èü§ù</p> <h4 class="svelte-16i1618">Whatsapp de soporte</h4> <p class="whatsapp svelte-16i1618"> </p></section></article> <br class="svelte-16i1618"> <br class="svelte-16i1618"> <section class="find-number svelte-16i1618"><input class="input-finder svelte-16i1618" type="text" name="" id="" placeholder="Buscar numero"></section> <!> <!> <section class="find-ticket-container svelte-16i1618"><input type="text" placeholder="Numero de Cedula " class="svelte-16i1618"> <button type="submit" class="svelte-16i1618">üîç Buscar ticket</button></section> <!> <!> <form class="payment-form svelte-16i1618"><!> <section class="svelte-16i1618"><label for="name" class="svelte-16i1618">Nombre y apellido <input type="text" name="name" id="name" placeholder="Ingresa tu nombre y apellido" minlength="4" required class="svelte-16i1618"></label> <label for="ci" class="svelte-16i1618">Cedula de identidad <input type="text" name="ci" id="ci" placeholder="Ingresa tu cedula de identidad" minlength="8" required class="svelte-16i1618"></label></section> <section class="svelte-16i1618"><label for="phone" class="svelte-16i1618">Telefono <input type="text" name="phone" id="phone" placeholder="N√∫mero de tel√©fono sin el +" minlength="10" required class="svelte-16i1618"></label></section> <section class="svelte-16i1618"><label for="reference" class="svelte-16i1618">Referencia <input type="text" name="reference" id="reference" placeholder="Referencia de su pago" required class="svelte-16i1618"></label></section> <section class="svelte-16i1618"><label for="amount" class="svelte-16i1618">Monto <input type="text" name="amount" id="amount" placeholder="Monto a pagar" required class="svelte-16i1618"></label></section> <button class="submit-button svelte-16i1618">Confirmar y enviar por whatsapp</button> <!> <!></form>`,1);function Kt(f,s){Ke(s,!0);let i="https://backend-rifas-tico.onrender.com",m=O(!1),S=O(!1),M=O(""),F=O(!0),V=U(s,"rangoValue",15),r=U(s,"formData",7),Z=U(s,"totalZelle",7),D=U(s,"findNumber",7),T=U(s,"numbersAvailable",7),n=U(s,"selectedTicket",7),G=O(""),re=x([]),oe=O(""),ie=O(!1),ee=O(x([])),de=O(x([])),pe=O(x([]));x([]);const ce=async()=>{try{const c=await(await fetch(`${i}/flash/items`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();v(de,x(c)),T(o(de).slice(0,-1)),v(F,!1)}catch(l){console.log(`Se ha producido un error: ${l}`)}};ht(()=>{ce()});let H=x({});const fe=async()=>{try{const b=(await(await fetch("https://backend-rifas-tico.onrender.com/api/users")).json()).map(w=>w.tickets.map(P=>P.value)).flat();if(n().map(w=>w.value).some(w=>b.includes(w))){alert("Otra persona ha comprado este ticket"),v(F,!0),ce(),n([]);return}}catch(l){console.error("Error al obtener usuarios:",l)}},y=async(l,c,p)=>{H[l]=!H[l];const b=n().find(g=>g.value===c);if(console.log(b),b){const g=n().filter(E=>E.value!==c);n([...g]);return}n([...n(),p]),Z(n().length*s.ticketValue),console.log(Z()),r().amount=Z(),await fe()},J=(l,c)=>{H[l]=!H[l];const p=n().filter(b=>b!==c);n([...p]),console.log(n(),"removido")},L=l=>{l.preventDefault()},ne=async()=>{try{const l=await fetch(`${i}/flash/alo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r().name.trim(),ci:r().ci.trim(),phone:r().phone.trim(),amount:r().amount.trim(),tickets:n().trim(),reference:r().reference.trim()})})}catch(l){console.error("Error al realizar la petici√≥n:",l)}ce()};vt(()=>{T().length>0&&(V(Math.floor((1-T().length/999)*100)),V(Math.max(V(),0)))});var j=Ut(),K=he(j),W=a(t(K),2),ue=t(W),te=a(ue,2),ge=t(te);e(te);var Oe=a(te,18),Ye=t(Oe);e(Oe),e(W),e(K);var be=a(K,6),ke=t(be);Y(ke),ke.__input=[Tt,M,T,D],e(be);var Ee=a(be,2);{var et=l=>{pt(l)},tt=l=>{var c=Lt(),p=t(c);{var b=h=>{var k=Ct(),q=t(k);le(q,21,()=>o(M),se,(A,z)=>{var R=Nt();R.__click=[At,y,z];var ve=t(R,!0);e(R),N(()=>{ze(R,1,$e(H[o(z).id]?"clickeado":"numero-click"),"svelte-16i1618"),d(ve,o(z).value)}),u(A,R)}),e(q),e(k),u(h,k)};C(p,h=>{D().length>0&&h(b)})}var g=a(p,2);{var E=h=>{var k=Pt();le(k,21,T,se,(q,A)=>{var z=Vt();z.__click=[Mt,y,A];var R=t(z,!0);e(z),N(()=>{ze(z,1,$e(H[o(A).id]?"clickeado":"numero-click"),"svelte-16i1618"),d(R,o(A).value)}),u(q,z)}),e(k),u(h,k)};C(g,h=>{T().length>0&&h(E)})}var w=a(g,2);{var P=h=>{var k=Ft(),q=t(k),A=t(q);{var z=B=>{var I=zt(),Q=t(I);e(I),N(()=>d(Q,`${n().length??""} de ${n().length??""} selectedTicket ${n().length*s.ticketValue} BS`)),u(B,I)};C(A,B=>{n().length>2&&B(z)})}var R=a(A,2);{var ve=B=>{var I=Bt();u(B,I)};C(R,B=>{n().length===1&&B(ve)})}e(q);var _e=a(q,2);le(_e,21,n,se,(B,I)=>{var Q=Et();Q.__click=[Ot,J,I];var ct=t(Q,!0);e(Q),N(()=>{ze(Q,1,`tickets-selected ${H[o(I).id]?"clickeado":"numero-click"}`,"svelte-16i1618"),d(ct,o(I).value)}),u(B,Q)}),e(_e),e(k),u(h,k)};C(w,h=>{n().length>0&&h(P)})}var $=a(w,2);{var ae=h=>{var k=Zt();u(h,k)};C($,h=>{T().length===0&&h(ae)})}e(c),u(l,c)};C(Ee,l=>{o(F)?l(et):l(tt,!1)})}var Fe=a(Ee,2);le(Fe,17,()=>re,se,(l,c)=>{var p=Rt(),b=t(p);e(p),N(g=>d(b,`tickets ${g??""} ${o(c).name??""} ${o(c).amount??""}`),[()=>o(c).tickets.map(g=>g.value)]),u(l,p)});var xe=a(Fe,2),ye=t(xe);Y(ye);var at=a(ye,2);at.__click=[St,i,oe,pe,ee,ie],e(xe);var Ze=a(xe,2);{var lt=l=>{var c=Dt(),p=t(c),b=t(p,!0);e(p);var g=a(p,4);le(g,21,()=>o(pe),se,(E,w)=>{var P=It(),$=t(P,!0);e(P),N(()=>d($,o(w).value)),u(E,P)}),e(g),e(c),N(()=>d(b,o(ee).name)),u(l,c)};C(Ze,l=>{o(ie)&&l(lt)})}var Le=a(Ze,2);wt(Le,{get selectedTicket(){return n()},get ticketValue(){return s.ticketValue},get totalZelle(){return Z()}});var we=a(Le,2),Re=t(we);{var st=l=>{var c=Gt(),p=t(c,!0);e(c),N(()=>d(p,o(G))),u(l,c)};C(Re,l=>{o(G)&&l(st)})}var Se=a(Re,2),Te=t(Se),qe=a(t(Te));Y(qe),qe.__change=[Be,r,G],e(Te);var Ie=a(Te,2),Ae=a(t(Ie));Y(Ae),Ae.__change=[Be,r,G],e(Ie),e(Se);var Ne=a(Se,2),De=t(Ne),Ce=a(t(De));Y(Ce),Ce.__change=[Be,r,G],e(De),e(Ne);var Me=a(Ne,2),Ge=t(Me),je=a(t(Ge));Y(je),e(Ge),e(Me);var Ve=a(Me,2),He=t(Ve),Je=a(t(He));Y(Je),e(He),e(Ve);var Pe=a(Ve,2);Pe.__click=[qt,S];var We=a(Pe,2);{var rt=l=>{var c=Jt(),p=a(t(c),2),b=t(p),g=t(b);e(b);var E=a(b,2),w=t(E);e(E);var P=a(E,2),$=t(P);e(P);var ae=a(P,2),h=t(ae);e(ae),e(p);var k=a(p,4),q=t(k);q.__click=[jt,S,ne,m];var A=a(q,2);A.__click=[Ht,S],e(k),e(c),N(()=>{c.open=o(S),d(g,`Nombre: ${r().name??""}`),d(w,`Numero: ${r().phone??""}`),d($,`Monto: ${r().amount??""}`),d(h,`Referencia: ${r().reference??""}`)}),u(l,c)};C(We,l=>{o(S)&&l(rt)})}var ot=a(We,2);{var it=l=>{var c=$t(),p=a(t(c),6),b=t(p);e(p);var g=a(p,2),E=t(g);e(g);var w=a(g,2),P=t(w);e(w);var $=a(w,2),ae=t($);e($);var h=a($,2),k=t(h);e(h);var q=a(h,2);le(q,21,n,se,(ve,_e)=>{var B=Wt(),I=t(B);e(B),N(()=>d(I,`${o(_e).value??""} ,`)),u(ve,B)}),e(q);var A=a(q,4),z=t(A);z.__click=[Ue,m,r,n],e(A);var R=a(A,2);R.__click=[Ue,m,r,n],e(c),N(()=>{c.open=o(m),d(b,`Nombre: ${r().name??""}`),d(E,`Cedula: ${r().ci??""}`),d(P,`N√∫mero: ${r().phone??""}`),d(ae,`Monto: ${r().amount??""}`),d(k,`Referencia: ${r().reference??""}`)}),u(l,c)};C(ot,l=>{o(m)&&l(it)})}e(we),N(()=>{dt(ue,V()),d(ge,`Se han vendido ${V()??""}% de los n√∫meros`),d(Ye,`+${s.mainPhone??""}`),Pe.disabled=n().length<2}),X(ke,D),X(ye,()=>o(oe),l=>v(oe,l)),mt("submit",we,L),X(qe,()=>r().name,l=>r().name=l),X(Ae,()=>r().ci,l=>r().ci=l),X(Ce,()=>r().phone,l=>r().phone=l),X(je,()=>r().reference,l=>r().reference=l),X(Je,()=>r().amount,l=>r().amount=l),u(f,j),Qe()}Xe(["input","click","change"]);var Qt=_("<main><!> <!> <!></main>");function ra(f){let s="10 de Enero",i="MOTO AVA TIGRITO 175CC 2024 IMPECABLE",m=0;x([]),x([]);let S=x([]),M="",F=50,V=x({}),r=x([]),Z=x([]),D="584124676100";var T=Qt(),n=t(T);ut(n,{});var G=a(n,2);Kt(G,{get rangoValue(){return m},get ticketValue(){return F},get formData(){return V},fechaSorteo:s,premioMayor:i,get totalZelle(){return M},get findNumber(){return S},mainPhone:D,get numbersAvailable(){return r},get selectedTicket(){return Z}});var re=a(G,2);_t(re,{mainPhone:D}),e(T),u(f,T)}export{ra as component};
